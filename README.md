# Urban highways are barriers to social ties

![Highway splash image](assets/kyle-murfin-zi_y7euEKfQ-unsplash.jpg)

Open source code for the forthcoming research paper, currently available as preprint:

> Aiello, Vybornova, Juhász, Szell, & Bokányi (2024) Urban highways are barriers for social ties [arxiv.org/abs/2404.11596](https://arxiv.org/abs/2404.11596)

Luca Aiello<sup>1,2</sup>, Anastassia Vybornova<sup>1</sup>, Sándor Juhász<sup>3</sup>, Michael Szell<sup>1,2,3,4</sup>, Eszter Bokányi<sup>5</sup>

1 IT University of Copenhagen, Copenhagen, 2300, Denmark

2 Pioneer Centre for AI, Copenhagen, 1350, Denmark

3 Complexity Science Hub Vienna, Vienna, 1080, Austria

4 ISI Foundation, Turin, 10126, Italy

5 University of Amsterdam, Amsterdam, 1018WV, The Netherlands

## Contents of the repository

* `/code/`
    * `00_randomize_twitter.ipynb`: code to generate random Twitter data (does **not** need to be re-run)
    * `01_workflow.ipynb`: main workflow from paper 
    * `02_plots_paper.ipynb`: code to reproduce plots from paper
    * `03_regressions.R`: code to reproduce regressions
    * `04a_naturalbarriers_create.ipynb`: code that downloads natural barrier (railway and waterway) data from OpenStreetMap
    * `04b_naturalbarriers_explore.ipynb`: notebook for manual exploration of natural barrier data
    * `config.yml`: workflow settings for `workflow.ipynb` 
    * `utils.py`: helper functions for workflow
* `/data/`
    * `/twitter_dummy/` random twitter nodes and edges generated by `code/randomize_twitter.ipynb`
    * `error_logs` & `/social_networks/` & `/social_networks_null/` & `/street_networks_simplified/`: output of `workflow_dummydata.ipynb`
    * `cbsacode.csv` (list of 50 sample cities)
    * `tract_ids.gpkg` (unique census tract codes for all 50 cities)
    * `/regressions/` all data necessary to reproduce regression results
* `/results/` & `/results_walking/`: output of `01_workflow.ipynb` (test run for Chicago)
* `/plots/`: output of `01_workflow.ipynb` and `02_plots_paper.ipynb`

## Instructions

1. Create conda environment:

```
conda env create -f highenv.yml
conda activate highenv
```

2. Update `config.yml` (details within config file)

3. Run `./code/01_workflow.ipynb` with conda environment `highenv`

4. Run `./code/02_plots_paper.ipynb` with conda environment `highenv`

## Contact

* Corresponding author: [Luca Aiello](mailto:luai@itu.dk)
* Maintaining this repository: [Anastassia Vybornova](mailto:anvy@itu.dk)